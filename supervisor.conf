;; Supervisor Configuration for Portfolio Backend
;; Copy this file to: /etc/supervisor/conf.d/portfolio-backend.conf
;;
;; Commands:
;;   sudo supervisorctl reread
;;   sudo supervisorctl update
;;   sudo supervisorctl start portfolio-backend
;;   sudo supervisorctl stop portfolio-backend
;;   sudo supervisorctl status portfolio-backend
;;   sudo supervisorctl tail -f portfolio-backend

[program:portfolio-backend]
command=/usr/bin/node /root/portfolio-backend/dist/index.js
directory=/root/portfolio-backend
user=root
autostart=false
autorestart=true
startretries=3
redirect_stderr=true
stdout_logfile=/root/portfolio-backend/logs/supervisor.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=10
stderr_logfile=/root/portfolio-backend/logs/supervisor-error.log
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=10
environment=NODE_ENV="production",PORT="3001"
